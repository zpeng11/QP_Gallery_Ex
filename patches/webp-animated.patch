--- /tmp/webp_clean_root/decoded/smali/com/alensw/ui/c/as.smali	2026-02-23 02:54:21.241476217 -0500
+++ ./decoded/smali/com/alensw/ui/c/as.smali	2026-02-23 02:49:30.805525127 -0500
@@ -1577,14 +1577,30 @@
     if-eq v1, v0, :cond_1
 
     :cond_0
-    const-string v1, "image/gif"
-
     iget-object v2, p0, Lcom/alensw/ui/c/as;->f:Lcom/alensw/ui/view/PictureView;
 
     invoke-virtual {v2}, Lcom/alensw/ui/view/PictureView;->getMimeType()Ljava/lang/String;
 
     move-result-object v2
 
+    const-string v1, "image/gif"
+
+    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_1
+
+    const-string v1, "image/webp"
+
+    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_1
+
+    const-string v1, "image/x-webp"
+
     invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
 
     move-result v1
--- /tmp/webp_clean_root/decoded/smali/com/alensw/ui/c/dp.smali	2026-02-23 02:54:21.241476217 -0500
+++ ./decoded/smali/com/alensw/ui/c/dp.smali	2026-02-23 02:49:30.829525127 -0500
@@ -1729,6 +1729,22 @@
 
     move-result v1
 
+    if-nez v1, :cond_0
+
+    const-string v1, "image/webp"
+
+    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
+    if-nez v1, :cond_0
+
+    const-string v1, "image/x-webp"
+
+    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v1
+
     if-eqz v1, :cond_1
 
     :cond_0
--- /tmp/webp_clean_root/decoded/smali/com/alensw/a/at.smali	2026-02-23 02:54:20.837476265 -0500
+++ ./decoded/smali/com/alensw/a/at.smali	2026-02-23 02:49:30.805525127 -0500
@@ -318,6 +318,110 @@
 
     iput-object v15, v8, Lcom/alensw/b/h/a;->outMimeType:Ljava/lang/String;
 
+    const-string v2, "image/webp"
+
+    iget-object v7, v8, Lcom/alensw/b/h/a;->outMimeType:Ljava/lang/String;
+
+    invoke-virtual {v2, v7}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_webp_fullres
+
+    const-string v2, "image/x-webp"
+
+    iget-object v7, v8, Lcom/alensw/b/h/a;->outMimeType:Ljava/lang/String;
+
+    invoke-virtual {v2, v7}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v2
+
+    if-nez v2, :cond_webp_fullres
+
+    invoke-virtual/range {p1 .. p1}, Lcom/alensw/b/c/f;->d()Ljava/lang/String;
+
+    move-result-object v7
+
+    if-eqz v7, :cond_after_webp_fullres
+
+    invoke-virtual {v7}, Ljava/lang/String;->toLowerCase()Ljava/lang/String;
+
+    move-result-object v7
+
+    const-string v2, ".webp"
+
+    invoke-virtual {v7, v2}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z
+
+    move-result v2
+
+    if-eqz v2, :cond_after_webp_fullres
+
+    :cond_webp_fullres
+    iget-boolean v2, v8, Lcom/alensw/b/h/a;->mCancel:Z
+
+    if-nez v2, :cond_after_webp_fullres
+
+    const-string v2, "WebpMovie"
+
+    const-string v7, "try WebP runtime decoder in full-res path"
+
+    invoke-static {v2, v7}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Lcom/alensw/a/at;->d:Landroid/os/Handler;
+
+    move-object/from16 v1, p1
+
+    move-object/from16 v7, p2
+
+    invoke-static {v1, v7, v2}, Lcom/alensw/b/h/t;->a(Lcom/alensw/b/c/f;Landroid/net/Uri;Landroid/os/Handler;)Lcom/alensw/b/h/t;
+
+    move-result-object v2
+
+    if-nez v2, :cond_webp_fullres_ready
+
+    sget v2, Landroid/os/Build$VERSION;->SDK_INT:I
+
+    const/16 v7, 0x1c
+
+    if-lt v2, v7, :cond_after_webp_fullres
+
+    const-string v2, "WebpMovie"
+
+    const-string v7, "fallback to WebP ImageDecoder in full-res path"
+
+    invoke-static {v2, v7}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    move-object/from16 v0, p0
+
+    iget-object v2, v0, Lcom/alensw/a/at;->d:Landroid/os/Handler;
+
+    move-object/from16 v1, p1
+
+    move-object/from16 v7, p2
+
+    invoke-static {v1, v7, v2}, Lcom/alensw/b/h/r;->a(Lcom/alensw/b/c/f;Landroid/net/Uri;Landroid/os/Handler;)Lcom/alensw/b/h/r;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_after_webp_fullres
+
+    :cond_webp_fullres_ready
+    iget-object v7, v2, Lcom/alensw/b/h/j;->b:Lcom/alensw/b/h/i;
+
+    iget v9, v8, Lcom/alensw/b/h/a;->c:I
+
+    iput v9, v7, Lcom/alensw/b/h/i;->d:I
+
+    move-object/from16 v0, p0
+
+    invoke-direct {v0, v2}, Lcom/alensw/a/at;->a(Lcom/alensw/b/h/j;)V
+
+    return-object v2
+
+    :cond_after_webp_fullres
+
     if-nez v4, :cond_f
 
     iget-boolean v2, v8, Lcom/alensw/b/h/a;->mCancel:Z
@@ -796,7 +900,7 @@
 .end method
 
 .method private c(Lcom/alensw/b/c/f;Landroid/net/Uri;)Lcom/alensw/b/h/j;
-    .locals 5
+    .locals 7
 
     const/4 v4, 0x0
 
@@ -840,6 +944,140 @@
     return-object v0
 
     :cond_1
+    const-string v0, "image/webp"
+
+    iget-object v2, v3, Lcom/alensw/b/h/a;->outMimeType:Ljava/lang/String;
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_9
+
+    const-string v0, "image/x-webp"
+
+    iget-object v2, v3, Lcom/alensw/b/h/a;->outMimeType:Ljava/lang/String;
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z
+
+    move-result v0
+
+    if-nez v0, :cond_9
+
+    invoke-virtual {p1}, Lcom/alensw/b/c/f;->d()Ljava/lang/String;
+
+    move-result-object v2
+
+    if-eqz v2, :cond_8
+
+    invoke-virtual {v2}, Ljava/lang/String;->toLowerCase()Ljava/lang/String;
+
+    move-result-object v2
+
+    const-string v5, ".webp"
+
+    invoke-virtual {v2, v5}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z
+
+    move-result v0
+
+    if-eqz v0, :cond_8
+
+    :cond_9
+
+    iget-boolean v0, v3, Lcom/alensw/b/h/a;->mCancel:Z
+
+    if-nez v0, :cond_8
+
+    const-string v0, "WebpMovie"
+
+    new-instance v5, Ljava/lang/StringBuilder;
+
+    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v6, "webp candidate path="
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {p1}, Lcom/alensw/b/c/f;->d()Ljava/lang/String;
+
+    move-result-object v6
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, ", uri="
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    const-string v6, ", mime="
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    iget-object v6, v3, Lcom/alensw/b/h/a;->outMimeType:Ljava/lang/String;
+
+    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v5
+
+    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v5
+
+    invoke-static {v0, v5}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    const-string v0, "WebpMovie"
+
+    const-string v2, "try WebP runtime decoder (preferred)"
+
+    invoke-static {v0, v2}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Lcom/alensw/a/at;->d:Landroid/os/Handler;
+
+    invoke-static {p1, p2, v0}, Lcom/alensw/b/h/t;->a(Lcom/alensw/b/c/f;Landroid/net/Uri;Landroid/os/Handler;)Lcom/alensw/b/h/t;
+
+    move-result-object v0
+
+    if-nez v0, :goto_0
+
+    sget v0, Landroid/os/Build$VERSION;->SDK_INT:I
+
+    const/16 v2, 0x1c
+
+    if-lt v0, v2, :cond_webp_static
+
+    const-string v0, "WebpMovie"
+
+    const-string v2, "fallback to WebP ImageDecoder path"
+
+    invoke-static {v0, v2}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    iget-object v0, p0, Lcom/alensw/a/at;->d:Landroid/os/Handler;
+
+    invoke-static {p1, p2, v0}, Lcom/alensw/b/h/r;->a(Lcom/alensw/b/c/f;Landroid/net/Uri;Landroid/os/Handler;)Lcom/alensw/b/h/r;
+
+    move-result-object v0
+
+    if-nez v0, :goto_0
+
+    :cond_webp_static
+    const-string v0, "WebpMovie"
+
+    const-string v2, "fallback to static bitmap decode for WebP"
+
+    invoke-static {v0, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_8
     const-string v0, "image/gif"
 
     iget-object v2, v3, Lcom/alensw/b/h/a;->outMimeType:Ljava/lang/String;
--- /tmp/webp_clean_root/decoded/smali/com/alensw/b/h/r.smali	1969-12-31 19:00:00.000000000 -0500
+++ ./decoded/smali/com/alensw/b/h/r.smali	2026-02-23 02:49:30.805525127 -0500
@@ -0,0 +1,257 @@
+.class public Lcom/alensw/b/h/r;
+.super Lcom/alensw/b/h/j;
+
+
+# instance fields
+.field private j:Landroid/graphics/drawable/AnimatedImageDrawable;
+
+.field private k:J
+
+
+# direct methods
+.method public constructor <init>(Landroid/graphics/drawable/AnimatedImageDrawable;Landroid/net/Uri;)V
+    .locals 6
+
+    const/4 v1, 0x1
+
+    const/4 v2, 0x1
+
+    if-eqz p1, :cond_0
+
+    invoke-virtual {p1}, Landroid/graphics/drawable/AnimatedImageDrawable;->getIntrinsicWidth()I
+
+    move-result v0
+
+    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I
+
+    move-result v1
+
+    invoke-virtual {p1}, Landroid/graphics/drawable/AnimatedImageDrawable;->getIntrinsicHeight()I
+
+    move-result v0
+
+    invoke-static {v2, v0}, Ljava/lang/Math;->max(II)I
+
+    move-result v2
+
+    :cond_0
+    move-object v0, p0
+
+    const/4 v3, 0x4
+
+    move-object v4, p2
+
+    const-string v5, "image/webp"
+
+    invoke-direct/range {v0 .. v5}, Lcom/alensw/b/h/j;-><init>(IIILandroid/net/Uri;Ljava/lang/String;)V
+
+    iput-object p1, p0, Lcom/alensw/b/h/r;->j:Landroid/graphics/drawable/AnimatedImageDrawable;
+
+    const-wide/16 v0, 0x0
+
+    iput-wide v0, p0, Lcom/alensw/b/h/r;->k:J
+
+    if-eqz p1, :cond_1
+
+    iget-object v0, p0, Lcom/alensw/b/h/h;->b:Lcom/alensw/b/h/i;
+
+    iget v1, v0, Lcom/alensw/b/h/i;->a:I
+
+    iget v0, v0, Lcom/alensw/b/h/i;->b:I
+
+    const/4 v2, 0x0
+
+    const/4 v3, 0x0
+
+    invoke-virtual {p1, v2, v3, v1, v0}, Landroid/graphics/drawable/AnimatedImageDrawable;->setBounds(IIII)V
+
+    :cond_1
+    return-void
+.end method
+
+.method public static a(Lcom/alensw/b/c/f;Landroid/net/Uri;Landroid/os/Handler;)Lcom/alensw/b/h/r;
+    .locals 4
+
+    const/4 v0, 0x0
+
+    sget v1, Landroid/os/Build$VERSION;->SDK_INT:I
+
+    const/16 v2, 0x1c
+
+    if-lt v1, v2, :cond_1
+
+    :try_start_0
+    new-instance v1, Ljava/io/File;
+
+    invoke-virtual {p0}, Lcom/alensw/b/c/f;->d()Ljava/lang/String;
+
+    move-result-object v2
+
+    invoke-direct {v1, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    invoke-static {v1}, Landroid/graphics/ImageDecoder;->createSource(Ljava/io/File;)Landroid/graphics/ImageDecoder$Source;
+
+    move-result-object v1
+
+    invoke-static {v1}, Landroid/graphics/ImageDecoder;->decodeDrawable(Landroid/graphics/ImageDecoder$Source;)Landroid/graphics/drawable/Drawable;
+
+    move-result-object v1
+
+    instance-of v2, v1, Landroid/graphics/drawable/AnimatedImageDrawable;
+
+    if-eqz v2, :cond_not_animated_drawable
+
+    new-instance v2, Lcom/alensw/b/h/r;
+
+    check-cast v1, Landroid/graphics/drawable/AnimatedImageDrawable;
+
+    invoke-direct {v2, v1, p1}, Lcom/alensw/b/h/r;-><init>(Landroid/graphics/drawable/AnimatedImageDrawable;Landroid/net/Uri;)V
+    :try_end_0
+    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0
+
+    move-object v0, v2
+
+    goto :cond_0
+
+    :cond_not_animated_drawable
+    const-string v2, "WebpMovie"
+
+    new-instance v3, Ljava/lang/StringBuilder;
+
+    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v1, "ImageDecoder returned non-animated drawable, fallback runtime: "
+
+    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v3
+
+    invoke-virtual {p0}, Lcom/alensw/b/c/f;->d()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v1
+
+    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v1
+
+    invoke-static {v2, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    :cond_0
+    return-object v0
+
+    :catch_0
+    move-exception v1
+
+    const-string v2, "WebpMovie"
+
+    const-string v3, "load WEBP: "
+
+    invoke-static {v2, v3, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    return-object v0
+
+    :cond_1
+    return-object v0
+.end method
+
+
+# virtual methods
+.method protected a()V
+    .locals 1
+
+    invoke-super {p0}, Lcom/alensw/b/h/h;->a()V
+
+    const/4 v0, 0x0
+
+    invoke-virtual {p0, v0}, Lcom/alensw/b/h/r;->a(Z)V
+
+    return-void
+.end method
+
+.method public a(Landroid/graphics/Canvas;Landroid/graphics/Matrix;Lcom/alensw/b/h/j;Landroid/graphics/Matrix;Landroid/graphics/Paint;Z)V
+    .locals 2
+
+    iget-object v0, p0, Lcom/alensw/b/h/r;->j:Landroid/graphics/drawable/AnimatedImageDrawable;
+
+    if-eqz v0, :cond_0
+
+    const/4 v1, 0x1
+
+    invoke-virtual {p1, v1}, Landroid/graphics/Canvas;->save(I)I
+
+    invoke-virtual {p1, p2}, Landroid/graphics/Canvas;->concat(Landroid/graphics/Matrix;)V
+
+    invoke-virtual {v0, p1}, Landroid/graphics/drawable/AnimatedImageDrawable;->draw(Landroid/graphics/Canvas;)V
+
+    invoke-virtual {p1}, Landroid/graphics/Canvas;->restore()V
+
+    return-void
+
+    :cond_0
+    if-eqz p3, :cond_1
+
+    invoke-virtual {p3}, Lcom/alensw/b/h/j;->j()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_1
+
+    invoke-virtual {p3}, Lcom/alensw/b/h/j;->d()Landroid/graphics/Bitmap;
+
+    move-result-object v0
+
+    invoke-virtual {p1, v0, p4, p5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Matrix;Landroid/graphics/Paint;)V
+
+    :cond_1
+    return-void
+.end method
+
+.method public a(Z)V
+    .locals 2
+
+    iget-object v0, p0, Lcom/alensw/b/h/r;->j:Landroid/graphics/drawable/AnimatedImageDrawable;
+
+    if-eqz v0, :cond_0
+
+    invoke-virtual {v0}, Landroid/graphics/drawable/AnimatedImageDrawable;->stop()V
+
+    const/4 v1, 0x0
+
+    invoke-virtual {v0, v1}, Landroid/graphics/drawable/AnimatedImageDrawable;->setCallback(Landroid/graphics/drawable/Drawable$Callback;)V
+
+    :cond_0
+    return-void
+.end method
+
+.method public a(Landroid/view/View;Landroid/graphics/Paint;)Z
+    .locals 2
+
+    iget-object v0, p0, Lcom/alensw/b/h/r;->j:Landroid/graphics/drawable/AnimatedImageDrawable;
+
+    if-eqz v0, :cond_0
+
+    invoke-virtual {v0, p1}, Landroid/graphics/drawable/AnimatedImageDrawable;->setCallback(Landroid/graphics/drawable/Drawable$Callback;)V
+
+    invoke-virtual {v0}, Landroid/graphics/drawable/AnimatedImageDrawable;->start()V
+
+    const/4 v1, 0x1
+
+    return v1
+
+    :cond_0
+    const/4 v1, 0x0
+
+    return v1
+.end method
+
+.method public b()J
+    .locals 2
+
+    iget-wide v0, p0, Lcom/alensw/b/h/r;->k:J
+
+    return-wide v0
+.end method
--- /tmp/webp_clean_root/decoded/smali/com/alensw/b/h/t.smali	1969-12-31 19:00:00.000000000 -0500
+++ ./decoded/smali/com/alensw/b/h/t.smali	2026-02-23 02:49:30.805525127 -0500
@@ -0,0 +1,1146 @@
+.class public Lcom/alensw/b/h/t;
+.super Lcom/alensw/b/h/j;
+
+
+# instance fields
+.field private j:Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;
+
+.field private k:Landroid/graphics/Bitmap;
+
+.field private l:I
+
+.field private m:I
+
+.field private n:Landroid/view/View;
+
+.field private o:Ljava/lang/Runnable;
+
+.field private p:Z
+
+.field private q:Ljava/lang/Object;
+
+.field private r:Landroid/graphics/Bitmap;
+
+.field private s:I
+
+.field private t:Ljava/lang/Thread;
+
+.field private u:Z
+
+
+# direct methods
+.method public constructor <init>(Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;Landroid/graphics/Bitmap;Landroid/net/Uri;I)V
+    .locals 2
+
+    const/4 v0, 0x4
+
+    invoke-direct {p0, p2, v0}, Lcom/alensw/b/h/j;-><init>(Landroid/graphics/Bitmap;I)V
+
+    iput-object p1, p0, Lcom/alensw/b/h/t;->j:Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;
+
+    iput-object p2, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    const-string v0, "image/webp"
+
+    iput-object v0, p0, Lcom/alensw/b/h/j;->h:Ljava/lang/String;
+
+    if-eqz p3, :cond_0
+
+    iput-object p3, p0, Lcom/alensw/b/h/j;->i:Landroid/net/Uri;
+
+    :cond_0
+    const/16 v0, 0x21
+
+    iput v0, p0, Lcom/alensw/b/h/t;->l:I
+
+    iput p4, p0, Lcom/alensw/b/h/t;->m:I
+
+    const/4 p1, 0x0
+
+    iput-object p1, p0, Lcom/alensw/b/h/t;->n:Landroid/view/View;
+
+    iput-object p1, p0, Lcom/alensw/b/h/t;->o:Ljava/lang/Runnable;
+
+    const/4 p1, 0x0
+
+    iput-boolean p1, p0, Lcom/alensw/b/h/t;->p:Z
+
+    new-instance v0, Ljava/lang/Object;
+
+    invoke-direct {v0}, Ljava/lang/Object;-><init>()V
+
+    iput-object v0, p0, Lcom/alensw/b/h/t;->q:Ljava/lang/Object;
+
+    const/4 v0, 0x0
+
+    iput-object v0, p0, Lcom/alensw/b/h/t;->r:Landroid/graphics/Bitmap;
+
+    const/16 v1, 0x21
+
+    iput v1, p0, Lcom/alensw/b/h/t;->s:I
+
+    iput-object v0, p0, Lcom/alensw/b/h/t;->t:Ljava/lang/Thread;
+
+    iput-boolean p1, p0, Lcom/alensw/b/h/t;->u:Z
+
+    return-void
+.end method
+
+.method public static a(Lcom/alensw/b/c/f;Landroid/net/Uri;Landroid/os/Handler;)Lcom/alensw/b/h/t;
+    .locals 13
+
+    const/4 v0, 0x0
+
+    invoke-static {}, Lcom/alensw/PicFolder/QuickApp;->a()Lcom/alensw/PicFolder/QuickApp;
+
+    move-result-object v1
+
+    if-nez v1, :cond_app
+
+    return-object v0
+
+    :cond_app
+    :try_start_init
+    new-instance v10, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;
+
+    invoke-virtual {v1}, Lcom/alensw/PicFolder/QuickApp;->getApplicationContext()Landroid/content/Context;
+
+    move-result-object v2
+
+    invoke-direct {v10, v2}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;-><init>(Landroid/content/Context;)V
+    :try_end_init
+    .catch Ljava/lang/Throwable; {:try_start_init .. :try_end_init} :catch_init
+
+    :try_start_decode
+    new-instance v2, Ljava/io/File;
+
+    invoke-virtual {p0}, Lcom/alensw/b/c/f;->d()Ljava/lang/String;
+
+    move-result-object v3
+
+    const-string v11, "WebpRuntime"
+
+    new-instance v12, Ljava/lang/StringBuilder;
+
+    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v4, "open path="
+
+    invoke-virtual {v12, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    const-string v4, ", uri="
+
+    invoke-virtual {v12, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v12
+
+    invoke-static {v11, v12}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V
+
+    new-instance v3, Ljava/io/FileInputStream;
+
+    invoke-direct {v3, v2}, Ljava/io/FileInputStream;-><init>(Ljava/io/File;)V
+
+    invoke-virtual {v3}, Ljava/io/FileInputStream;->getChannel()Ljava/nio/channels/FileChannel;
+
+    move-result-object v4
+
+    sget-object v5, Ljava/nio/channels/FileChannel$MapMode;->READ_ONLY:Ljava/nio/channels/FileChannel$MapMode;
+
+    const-wide/16 v6, 0x0
+
+    invoke-virtual {v2}, Ljava/io/File;->length()J
+
+    move-result-wide v8
+
+    invoke-virtual/range {v4 .. v9}, Ljava/nio/channels/FileChannel;->map(Ljava/nio/channels/FileChannel$MapMode;JJ)Ljava/nio/MappedByteBuffer;
+
+    move-result-object v11
+
+    invoke-virtual {v10, v11}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->setDataBuffer(Ljava/nio/Buffer;)V
+
+    invoke-virtual {v3}, Ljava/io/FileInputStream;->close()V
+
+    const/4 v1, 0x0
+
+    const/4 v12, 0x0
+
+    :try_start_info
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->decodeInfo()Lcom/aureusapps/android/webpandroid/decoder/WebPInfo;
+
+    move-result-object v12
+
+    invoke-virtual {v12}, Lcom/aureusapps/android/webpandroid/decoder/WebPInfo;->getHasAnimation()Z
+
+    move-result v2
+
+    invoke-virtual {v12}, Lcom/aureusapps/android/webpandroid/decoder/WebPInfo;->getFrameCount()I
+
+    move-result v3
+
+    invoke-virtual {v12}, Lcom/aureusapps/android/webpandroid/decoder/WebPInfo;->getWidth()I
+
+    move-result v4
+
+    invoke-virtual {v12}, Lcom/aureusapps/android/webpandroid/decoder/WebPInfo;->getHeight()I
+
+    move-result v5
+
+    const-string v6, "WebpRuntime"
+
+    new-instance v7, Ljava/lang/StringBuilder;
+
+    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V
+
+    const-string v8, "decodeInfo hasAnimation="
+
+    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v7
+
+    invoke-virtual {v7, v2}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;
+
+    move-result-object v7
+
+    const-string v8, ", frameCount="
+
+    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v7
+
+    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v7
+
+    const-string v8, ", size="
+
+    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v7
+
+    invoke-virtual {v7, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v7
+
+    const-string v8, "x"
+
+    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+
+    move-result-object v7
+
+    invoke-virtual {v7, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;
+
+    move-result-object v7
+
+    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
+
+    move-result-object v7
+
+    invoke-static {v6, v7}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    if-nez v2, :cond_info_animated
+
+    const/4 v2, 0x1
+
+    if-le v3, v2, :cond_info_done
+
+    :cond_info_animated
+    const/4 v1, 0x1
+
+    :cond_info_done
+    :try_end_info
+    .catch Ljava/lang/Throwable; {:try_start_info .. :try_end_info} :catch_info
+
+    goto :cond_after_info
+
+    :catch_info
+    move-exception v2
+
+    const-string v3, "WebpRuntime"
+
+    const-string v4, "decodeInfo WEBP runtime: "
+
+    invoke-static {v3, v4, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    const/4 v12, 0x0
+
+    const/4 v1, 0x0
+
+    :cond_after_info
+
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->decodeNextFrame()Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;->getFrame()Landroid/graphics/Bitmap;
+
+    move-result-object v11
+
+    if-nez v11, :cond_has_frame
+
+    new-instance v1, Ljava/lang/RuntimeException;
+
+    const-string v2, "empty first frame"
+
+    invoke-direct {v1, v2}, Ljava/lang/RuntimeException;-><init>(Ljava/lang/String;)V
+
+    throw v1
+
+    :cond_has_frame
+    if-nez v1, :cond_animation_ready
+
+    :try_start_probe
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->hasNextFrame()Z
+
+    move-result v1
+    :try_end_probe
+    .catch Ljava/lang/Throwable; {:try_start_probe .. :try_end_probe} :catch_probe
+
+    if-eqz v1, :cond_not_animated
+
+    const-string v2, "WebpRuntime"
+
+    const-string v4, "animation inferred by hasNextFrame"
+
+    invoke-static {v2, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :cond_animation_ready
+
+    :catch_probe
+    move-exception v2
+
+    const-string v4, "WebpRuntime"
+
+    const-string v5, "probe hasNextFrame: "
+
+    invoke-static {v4, v5, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :cond_not_animated
+
+    :cond_animation_ready
+    const/4 v1, 0x1
+
+    if-eqz v12, :cond_size_from_frame
+
+    invoke-virtual {v12}, Lcom/aureusapps/android/webpandroid/decoder/WebPInfo;->getWidth()I
+
+    move-result v4
+
+    invoke-static {v1, v4}, Ljava/lang/Math;->max(II)I
+
+    move-result v4
+
+    invoke-virtual {v12}, Lcom/aureusapps/android/webpandroid/decoder/WebPInfo;->getHeight()I
+
+    move-result v5
+
+    invoke-static {v1, v5}, Ljava/lang/Math;->max(II)I
+
+    move-result v5
+
+    goto :cond_size_done
+
+    :cond_size_from_frame
+    invoke-virtual {v11}, Landroid/graphics/Bitmap;->getWidth()I
+
+    move-result v4
+
+    invoke-static {v1, v4}, Ljava/lang/Math;->max(II)I
+
+    move-result v4
+
+    invoke-virtual {v11}, Landroid/graphics/Bitmap;->getHeight()I
+
+    move-result v5
+
+    invoke-static {v1, v5}, Ljava/lang/Math;->max(II)I
+
+    move-result v5
+
+    :cond_size_done
+
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->decodeNextFrame()Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;
+
+    move-result-object v6
+
+    invoke-virtual {v6}, Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;->getFrame()Landroid/graphics/Bitmap;
+
+    move-result-object v7
+
+    if-nez v7, :cond_second_probe_ok
+
+    const-string v1, "WebpRuntime"
+
+    const-string v2, "second frame probe failed (null frame), fallback to other decoder"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->release()V
+
+    return-object v0
+
+    :cond_second_probe_ok
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->reset()V
+
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->decodeNextFrame()Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;
+
+    move-result-object v3
+
+    invoke-virtual {v3}, Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;->getFrame()Landroid/graphics/Bitmap;
+
+    move-result-object v11
+
+    if-nez v11, :cond_replay_first_ok
+
+    const-string v1, "WebpRuntime"
+
+    const-string v2, "first frame replay after reset failed, fallback to other decoder"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->release()V
+
+    return-object v0
+
+    :cond_replay_first_ok
+    new-instance v6, Lcom/alensw/b/h/t;
+
+    invoke-virtual {v3}, Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;->getTimestamp()I
+
+    move-result v7
+
+    invoke-direct {v6, v10, v11, p1, v7}, Lcom/alensw/b/h/t;-><init>(Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;Landroid/graphics/Bitmap;Landroid/net/Uri;I)V
+
+    iget-object v8, v6, Lcom/alensw/b/h/h;->b:Lcom/alensw/b/h/i;
+
+    iput v4, v8, Lcom/alensw/b/h/i;->a:I
+
+    iget-object v8, v6, Lcom/alensw/b/h/h;->b:Lcom/alensw/b/h/i;
+
+    iput v5, v8, Lcom/alensw/b/h/i;->b:I
+
+    return-object v6
+
+    :cond_not_animated
+    const-string v1, "WebpRuntime"
+
+    const-string v2, "runtime decoder reports non-animated webp after multi-signal probe"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->release()V
+
+    return-object v0
+    :try_end_decode
+    .catch Ljava/lang/Throwable; {:try_start_decode .. :try_end_decode} :catch_decode
+
+    :catch_init
+    move-exception v1
+
+    const-string v2, "WebpRuntime"
+
+    const-string v3, "init WEBP runtime: "
+
+    invoke-static {v2, v3, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    return-object v0
+
+    :catch_decode
+    move-exception v1
+
+    const-string v2, "WebpRuntime"
+
+    const-string v3, "load WEBP runtime: "
+
+    invoke-static {v2, v3, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    :try_start_release
+    invoke-virtual {v10}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->release()V
+    :try_end_release
+    .catch Ljava/lang/Throwable; {:try_start_release .. :try_end_release} :catch_release
+
+    return-object v0
+
+    :catch_release
+    move-exception v1
+
+    const-string v2, "WebpRuntime"
+
+    const-string v3, "release WEBP runtime: "
+
+    invoke-static {v2, v3, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    return-object v0
+.end method
+
+
+# virtual methods
+.method protected a()V
+    .locals 5
+
+    iget-object v0, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    invoke-virtual {p0}, Lcom/alensw/b/h/h;->d()Landroid/graphics/Bitmap;
+
+    move-result-object v1
+
+    if-eqz v0, :cond_pre_done
+
+    if-eq v0, v1, :cond_pre_done
+
+    invoke-virtual {v0}, Landroid/graphics/Bitmap;->isRecycled()Z
+
+    move-result v2
+
+    if-nez v2, :cond_pre_done
+
+    invoke-virtual {v0}, Landroid/graphics/Bitmap;->recycle()V
+
+    :cond_pre_done
+    invoke-super {p0}, Lcom/alensw/b/h/j;->a()V
+
+    const/4 v0, 0x0
+
+    invoke-virtual {p0, v0}, Lcom/alensw/b/h/t;->a(Z)V
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->t:Ljava/lang/Thread;
+
+    if-eqz v1, :cond_thread_idle
+
+    invoke-virtual {v1}, Ljava/lang/Thread;->isAlive()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_thread_idle
+
+    const-string v1, "WebpRuntime"
+
+    const-string v2, "skip release while decode thread alive"
+
+    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :goto_0
+
+    :cond_thread_idle
+    iget-object v0, p0, Lcom/alensw/b/h/t;->j:Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;
+
+    if-eqz v0, :cond_release_done
+
+    :try_start_0
+    invoke-virtual {v0}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->cancel()V
+
+    invoke-virtual {v0}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->release()V
+    :try_end_0
+    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0
+
+    goto :goto_0
+
+    :catch_0
+    move-exception v0
+
+    const-string v1, "WebpRuntime"
+
+    const-string v2, "release runtime: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    :cond_release_done
+    :goto_0
+    const/4 v0, 0x0
+
+    iput-object v0, p0, Lcom/alensw/b/h/t;->j:Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;
+
+    iput-object v0, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    iput-object v0, p0, Lcom/alensw/b/h/t;->r:Landroid/graphics/Bitmap;
+
+    const/4 v1, 0x0
+
+    iput-boolean v1, p0, Lcom/alensw/b/h/t;->u:Z
+
+    return-void
+.end method
+
+.method public a(Landroid/graphics/Canvas;Landroid/graphics/Matrix;Lcom/alensw/b/h/j;Landroid/graphics/Matrix;Landroid/graphics/Paint;Z)V
+    .locals 1
+
+    iget-object v0, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    if-eqz v0, :cond_0
+
+    invoke-virtual {v0}, Landroid/graphics/Bitmap;->isRecycled()Z
+
+    move-result v0
+
+    if-nez v0, :cond_0
+
+    iget-object v0, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    invoke-virtual {p1, v0, p2, p5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Matrix;Landroid/graphics/Paint;)V
+
+    return-void
+
+    :cond_0
+    if-eqz p3, :cond_1
+
+    invoke-virtual {p3}, Lcom/alensw/b/h/j;->j()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_1
+
+    invoke-virtual {p3}, Lcom/alensw/b/h/j;->d()Landroid/graphics/Bitmap;
+
+    move-result-object v0
+
+    invoke-virtual {p1, v0, p4, p5}, Landroid/graphics/Canvas;->drawBitmap(Landroid/graphics/Bitmap;Landroid/graphics/Matrix;Landroid/graphics/Paint;)V
+
+    :cond_1
+    return-void
+.end method
+
+.method public a(Z)V
+    .locals 6
+
+    const/4 v0, 0x0
+
+    iput-boolean v0, p0, Lcom/alensw/b/h/t;->p:Z
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->n:Landroid/view/View;
+
+    if-eqz v1, :cond_0
+
+    iget-object v2, p0, Lcom/alensw/b/h/t;->o:Ljava/lang/Runnable;
+
+    if-eqz v2, :cond_0
+
+    invoke-virtual {v1, v2}, Landroid/view/View;->removeCallbacks(Ljava/lang/Runnable;)Z
+
+    :cond_0
+    iput-object v0, p0, Lcom/alensw/b/h/t;->n:Landroid/view/View;
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->t:Ljava/lang/Thread;
+
+    if-eqz v1, :cond_2
+
+    invoke-virtual {v1}, Ljava/lang/Thread;->interrupt()V
+
+    const-wide/16 v2, 0x190
+
+    :try_start_0
+    invoke-virtual {v1, v2, v3}, Ljava/lang/Thread;->join(J)V
+    :try_end_0
+    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0
+
+    :goto_0
+    invoke-virtual {v1}, Ljava/lang/Thread;->isAlive()Z
+
+    move-result v2
+
+    if-nez v2, :cond_1
+
+    iput-object v0, p0, Lcom/alensw/b/h/t;->t:Ljava/lang/Thread;
+
+    goto :cond_2
+
+    :cond_1
+    const-string v2, "WebpRuntime"
+
+    const-string v3, "decode thread still alive on stop"
+
+    invoke-static {v2, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
+
+    goto :cond_2
+
+    :catch_0
+    move-exception v2
+
+    const-string v3, "WebpRuntime"
+
+    const-string v4, "join decode thread: "
+
+    invoke-static {v3, v4, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    goto :goto_0
+
+    :cond_2
+    iget-object v1, p0, Lcom/alensw/b/h/t;->q:Ljava/lang/Object;
+
+    if-eqz v1, :cond_5
+
+    monitor-enter v1
+
+    :try_start_1
+    iget-object v2, p0, Lcom/alensw/b/h/t;->r:Landroid/graphics/Bitmap;
+
+    iput-object v0, p0, Lcom/alensw/b/h/t;->r:Landroid/graphics/Bitmap;
+
+    iput-boolean v0, p0, Lcom/alensw/b/h/t;->u:Z
+
+    invoke-virtual {v1}, Ljava/lang/Object;->notifyAll()V
+
+    monitor-exit v1
+
+    goto :goto_1
+
+    :catchall_0
+    move-exception v0
+
+    monitor-exit v1
+    :try_end_1
+    .catchall {:try_start_1 .. :try_end_1} :catchall_0
+
+    throw v0
+
+    :goto_1
+    if-eqz v2, :cond_5
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    if-eq v2, v1, :cond_5
+
+    invoke-virtual {v2}, Landroid/graphics/Bitmap;->isRecycled()Z
+
+    move-result v1
+
+    if-nez v1, :cond_5
+
+    invoke-virtual {v2}, Landroid/graphics/Bitmap;->recycle()V
+
+    :cond_5
+    return-void
+.end method
+
+.method public a(Landroid/view/View;Landroid/graphics/Paint;)Z
+    .locals 4
+
+    iget-object p2, p0, Lcom/alensw/b/h/t;->j:Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;
+
+    const/4 v0, 0x0
+
+    if-nez p2, :cond_0
+
+    return v0
+
+    :cond_0
+    iput-object p1, p0, Lcom/alensw/b/h/t;->n:Landroid/view/View;
+
+    const/4 p2, 0x1
+
+    iput-boolean p2, p0, Lcom/alensw/b/h/t;->p:Z
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->o:Ljava/lang/Runnable;
+
+    if-nez v1, :cond_1
+
+    new-instance v1, Lcom/alensw/b/h/u;
+
+    invoke-direct {v1, p0}, Lcom/alensw/b/h/u;-><init>(Lcom/alensw/b/h/t;)V
+
+    iput-object v1, p0, Lcom/alensw/b/h/t;->o:Ljava/lang/Runnable;
+
+    :cond_1
+    iget-object v1, p0, Lcom/alensw/b/h/t;->o:Ljava/lang/Runnable;
+
+    invoke-virtual {p1, v1}, Landroid/view/View;->removeCallbacks(Ljava/lang/Runnable;)Z
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->o:Ljava/lang/Runnable;
+
+    invoke-virtual {p1, v1}, Landroid/view/View;->post(Ljava/lang/Runnable;)Z
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->t:Ljava/lang/Thread;
+
+    if-eqz v1, :cond_2
+
+    invoke-virtual {v1}, Ljava/lang/Thread;->isAlive()Z
+
+    move-result v1
+
+    if-nez v1, :cond_4
+
+    :cond_2
+    :try_start_0
+    new-instance v1, Ljava/lang/Thread;
+
+    new-instance v2, Lcom/alensw/b/h/v;
+
+    invoke-direct {v2, p0}, Lcom/alensw/b/h/v;-><init>(Lcom/alensw/b/h/t;)V
+
+    const-string v3, "WebpRuntimeDecode"
+
+    invoke-direct {v1, v2, v3}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V
+
+    iput-object v1, p0, Lcom/alensw/b/h/t;->t:Ljava/lang/Thread;
+
+    invoke-virtual {v1}, Ljava/lang/Thread;->start()V
+    :try_end_0
+    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0
+
+    goto :cond_4
+
+    :catch_0
+    move-exception v1
+
+    const-string v2, "WebpRuntime"
+
+    const-string v3, "start decode thread: "
+
+    invoke-static {v2, v3, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    const/4 v1, 0x0
+
+    iput-object v1, p0, Lcom/alensw/b/h/t;->t:Ljava/lang/Thread;
+
+    :cond_4
+    return p2
+.end method
+
+.method public b()J
+    .locals 2
+
+    const-wide/16 v0, 0x0
+
+    return-wide v0
+.end method
+
+.method public o()Z
+    .locals 8
+
+    const/4 v0, 0x0
+
+    iget-boolean v1, p0, Lcom/alensw/b/h/t;->p:Z
+
+    if-nez v1, :cond_0
+
+    return v0
+
+    :cond_0
+    iget-object v1, p0, Lcom/alensw/b/h/t;->q:Ljava/lang/Object;
+
+    if-nez v1, :cond_1
+
+    return v0
+
+    :cond_1
+    monitor-enter v1
+
+    :try_start_0
+    iget-boolean v2, p0, Lcom/alensw/b/h/t;->u:Z
+
+    if-nez v2, :cond_2
+
+    monitor-exit v1
+
+    return v0
+
+    :cond_2
+    iget-object v2, p0, Lcom/alensw/b/h/t;->r:Landroid/graphics/Bitmap;
+
+    const/4 v3, 0x0
+
+    iput-object v3, p0, Lcom/alensw/b/h/t;->r:Landroid/graphics/Bitmap;
+
+    iput-boolean v0, p0, Lcom/alensw/b/h/t;->u:Z
+
+    iget v3, p0, Lcom/alensw/b/h/t;->s:I
+
+    iput v3, p0, Lcom/alensw/b/h/t;->l:I
+
+    monitor-exit v1
+    :try_end_0
+    .catchall {:try_start_0 .. :try_end_0} :catchall_0
+
+    if-eqz v2, :cond_4
+
+    iget-object v3, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    iput-object v2, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    if-eqz v3, :cond_3
+
+    if-eq v3, v2, :cond_3
+
+    invoke-virtual {p0}, Lcom/alensw/b/h/h;->d()Landroid/graphics/Bitmap;
+
+    move-result-object v4
+
+    if-eq v3, v4, :cond_3
+
+    invoke-virtual {v3}, Landroid/graphics/Bitmap;->isRecycled()Z
+
+    move-result v4
+
+    if-nez v4, :cond_3
+
+    invoke-virtual {v3}, Landroid/graphics/Bitmap;->recycle()V
+
+    :cond_3
+    const/4 v0, 0x1
+
+    :cond_4
+    return v0
+
+    :catchall_0
+    move-exception v0
+
+    monitor-exit v1
+
+    throw v0
+.end method
+
+.method public p()I
+    .locals 2
+
+    iget v0, p0, Lcom/alensw/b/h/t;->l:I
+
+    const/16 v1, 0x8
+
+    invoke-static {v1, v0}, Ljava/lang/Math;->max(II)I
+
+    move-result v0
+
+    return v0
+.end method
+
+.method public w()V
+    .locals 14
+
+    invoke-virtual {p0}, Lcom/alensw/b/h/t;->s()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_return
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->j:Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;
+
+    if-eqz v1, :cond_return
+
+    invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
+
+    move-result-wide v8
+
+    :try_start_0
+    invoke-virtual {v1}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->decodeNextFrame()Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;->getFrame()Landroid/graphics/Bitmap;
+
+    move-result-object v3
+
+    if-nez v3, :cond_2
+
+    invoke-virtual {v1}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->reset()V
+
+    const/4 v2, -0x1
+
+    iput v2, p0, Lcom/alensw/b/h/t;->m:I
+
+    invoke-virtual {v1}, Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;->decodeNextFrame()Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;
+
+    move-result-object v2
+
+    invoke-virtual {v2}, Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;->getFrame()Landroid/graphics/Bitmap;
+
+    move-result-object v3
+
+    if-nez v3, :cond_2
+
+    const-wide/16 v4, 0x10
+
+    invoke-static {v4, v5}, Ljava/lang/Thread;->sleep(J)V
+
+    return-void
+
+    :cond_2
+    invoke-virtual {v2}, Lcom/aureusapps/android/webpandroid/decoder/FrameDecodeResult;->getTimestamp()I
+
+    move-result v4
+
+    iget v5, p0, Lcom/alensw/b/h/t;->m:I
+
+    if-ltz v5, :cond_3
+
+    sub-int v5, v4, v5
+
+    const/16 v6, 0x8
+
+    invoke-static {v6, v5}, Ljava/lang/Math;->max(II)I
+
+    move-result v5
+
+    const/16 v6, 0xfa
+
+    invoke-static {v6, v5}, Ljava/lang/Math;->min(II)I
+
+    move-result v0
+
+    goto :goto_0
+
+    :cond_3
+    const/16 v0, 0x21
+
+    :goto_0
+    iput v4, p0, Lcom/alensw/b/h/t;->m:I
+
+    iget-object v4, p0, Lcom/alensw/b/h/t;->q:Ljava/lang/Object;
+
+    monitor-enter v4
+
+    :try_start_1
+    iget-object v5, p0, Lcom/alensw/b/h/t;->r:Landroid/graphics/Bitmap;
+
+    iput-object v3, p0, Lcom/alensw/b/h/t;->r:Landroid/graphics/Bitmap;
+
+    iput v0, p0, Lcom/alensw/b/h/t;->s:I
+
+    const/4 v6, 0x1
+
+    iput-boolean v6, p0, Lcom/alensw/b/h/t;->u:Z
+
+    invoke-virtual {v4}, Ljava/lang/Object;->notifyAll()V
+
+    monitor-exit v4
+
+    goto :goto_1
+
+    :catchall_0
+    move-exception v0
+
+    monitor-exit v4
+    :try_end_1
+    .catchall {:try_start_1 .. :try_end_1} :catchall_0
+
+    throw v0
+
+    :goto_1
+    if-eqz v5, :cond_4
+
+    if-eq v5, v3, :cond_4
+
+    iget-object v6, p0, Lcom/alensw/b/h/t;->k:Landroid/graphics/Bitmap;
+
+    if-eq v5, v6, :cond_4
+
+    invoke-virtual {v5}, Landroid/graphics/Bitmap;->isRecycled()Z
+
+    move-result v6
+
+    if-nez v6, :cond_4
+
+    invoke-virtual {v5}, Landroid/graphics/Bitmap;->recycle()V
+
+    :cond_4
+    invoke-static {}, Landroid/os/SystemClock;->uptimeMillis()J
+
+    move-result-wide v10
+
+    sub-long/2addr v10, v8
+
+    int-to-long v6, v0
+
+    sub-long v12, v6, v10
+
+    const-wide/16 v6, 0x2
+
+    cmp-long v0, v12, v6
+
+    if-ltz v0, :cond_sleep_done
+
+    invoke-static {v12, v13}, Ljava/lang/Thread;->sleep(J)V
+
+    :cond_sleep_done
+    :try_end_0
+    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0
+
+    return-void
+
+    :catch_0
+    move-exception v0
+
+    iget-boolean v1, p0, Lcom/alensw/b/h/t;->p:Z
+
+    if-eqz v1, :cond_return
+
+    const-string v1, "WebpRuntime"
+
+    const-string v2, "decode frame: "
+
+    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
+
+    const-wide/16 v0, 0x21
+
+    :try_start_2
+    invoke-static {v0, v1}, Ljava/lang/Thread;->sleep(J)V
+    :try_end_2
+    .catch Ljava/lang/Throwable; {:try_start_2 .. :try_end_2} :catch_1
+
+    goto :goto_2
+
+    :catch_1
+    move-exception v0
+
+    :cond_return
+    :goto_2
+    return-void
+.end method
+
+.method public q()Z
+    .locals 1
+
+    iget-boolean v0, p0, Lcom/alensw/b/h/t;->p:Z
+
+    return v0
+.end method
+
+.method public s()Z
+    .locals 2
+
+    iget-boolean v0, p0, Lcom/alensw/b/h/t;->p:Z
+
+    if-eqz v0, :cond_0
+
+    invoke-static {}, Ljava/lang/Thread;->currentThread()Ljava/lang/Thread;
+
+    move-result-object v0
+
+    iget-object v1, p0, Lcom/alensw/b/h/t;->t:Ljava/lang/Thread;
+
+    if-ne v0, v1, :cond_0
+
+    iget-object v0, p0, Lcom/alensw/b/h/t;->j:Lcom/aureusapps/android/webpandroid/decoder/WebPDecoder;
+
+    if-eqz v0, :cond_0
+
+    const/4 v0, 0x1
+
+    return v0
+
+    :cond_0
+    const/4 v0, 0x0
+
+    return v0
+.end method
+
+.method public r()Landroid/view/View;
+    .locals 1
+
+    iget-object v0, p0, Lcom/alensw/b/h/t;->n:Landroid/view/View;
+
+    return-object v0
+.end method
--- /tmp/webp_clean_root/decoded/smali/com/alensw/b/h/u.smali	1969-12-31 19:00:00.000000000 -0500
+++ ./decoded/smali/com/alensw/b/h/u.smali	2026-02-23 02:49:30.805525127 -0500
@@ -0,0 +1,68 @@
+.class Lcom/alensw/b/h/u;
+.super Ljava/lang/Object;
+
+# interfaces
+.implements Ljava/lang/Runnable;
+
+
+# instance fields
+.field final synthetic a:Lcom/alensw/b/h/t;
+
+
+# direct methods
+.method public constructor <init>(Lcom/alensw/b/h/t;)V
+    .locals 0
+
+    iput-object p1, p0, Lcom/alensw/b/h/u;->a:Lcom/alensw/b/h/t;
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public run()V
+    .locals 5
+
+    iget-object v0, p0, Lcom/alensw/b/h/u;->a:Lcom/alensw/b/h/t;
+
+    invoke-virtual {v0}, Lcom/alensw/b/h/t;->q()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_1
+
+    iget-object v0, p0, Lcom/alensw/b/h/u;->a:Lcom/alensw/b/h/t;
+
+    invoke-virtual {v0}, Lcom/alensw/b/h/t;->r()Landroid/view/View;
+
+    move-result-object v0
+
+    if-eqz v0, :cond_1
+
+    iget-object v1, p0, Lcom/alensw/b/h/u;->a:Lcom/alensw/b/h/t;
+
+    invoke-virtual {v1}, Lcom/alensw/b/h/t;->o()Z
+
+    move-result v1
+
+    if-eqz v1, :cond_0
+
+    invoke-virtual {v0}, Landroid/view/View;->invalidate()V
+
+    :cond_0
+    iget-object v1, p0, Lcom/alensw/b/h/u;->a:Lcom/alensw/b/h/t;
+
+    invoke-virtual {v1}, Lcom/alensw/b/h/t;->p()I
+
+    move-result v1
+
+    int-to-long v1, v1
+
+    invoke-virtual {v0, p0, v1, v2}, Landroid/view/View;->postDelayed(Ljava/lang/Runnable;J)Z
+
+    :cond_1
+    :goto_0
+    return-void
+.end method
--- /tmp/webp_clean_root/decoded/smali/com/alensw/b/h/v.smali	1969-12-31 19:00:00.000000000 -0500
+++ ./decoded/smali/com/alensw/b/h/v.smali	2026-02-23 02:49:30.805525127 -0500
@@ -0,0 +1,45 @@
+.class Lcom/alensw/b/h/v;
+.super Ljava/lang/Object;
+
+# interfaces
+.implements Ljava/lang/Runnable;
+
+
+# instance fields
+.field final synthetic a:Lcom/alensw/b/h/t;
+
+
+# direct methods
+.method public constructor <init>(Lcom/alensw/b/h/t;)V
+    .locals 0
+
+    iput-object p1, p0, Lcom/alensw/b/h/v;->a:Lcom/alensw/b/h/t;
+
+    invoke-direct {p0}, Ljava/lang/Object;-><init>()V
+
+    return-void
+.end method
+
+
+# virtual methods
+.method public run()V
+    .locals 1
+
+    :goto_0
+    iget-object v0, p0, Lcom/alensw/b/h/v;->a:Lcom/alensw/b/h/t;
+
+    invoke-virtual {v0}, Lcom/alensw/b/h/t;->s()Z
+
+    move-result v0
+
+    if-eqz v0, :cond_0
+
+    iget-object v0, p0, Lcom/alensw/b/h/v;->a:Lcom/alensw/b/h/t;
+
+    invoke-virtual {v0}, Lcom/alensw/b/h/t;->w()V
+
+    goto :goto_0
+
+    :cond_0
+    return-void
+.end method
